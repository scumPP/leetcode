# 盛最多水的容器

## 题目

给你 n 个非负整数 a1，a2，...，an，每个数代表坐标中的一个点 (i, ai) 。在坐标内画 n 条垂直线，垂直线 i 的两个端点分别为 (i, ai) 和 (i, 0)。找出其中的两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水。

说明：你不能倾斜容器，且 n 的值至少为 2。

示例：

```python
输入：[1,8,6,2,5,4,8,3,7]
输出：49
```

## 解题思路

双指针解法，从容器底部两端（左$i$，右$j$）向中间遍历。

为什么要从两端向中间遍历呢？我们要求最大的面积，面积等于底乘以高，即$S=(j-i)*h$，从底的角度出发，从大到小进行计算，然后我们让左端或者右端只收窄一格，因此底部就确定了，那么我们再分析高$h$就容易啦！

面积的高$h$取决于容器两端较短的一端，那么，当我们移动两端时，怎么进行最优的判断并进行动作呢？

+ 如果当前$i \lt j$，我们移动$i$,移动后的$i'$有3种情况：

1. $i' \lt i \lt j$，面积会变小
2. $j > i' \ge i$，面积变大或者不变
3. $i' \ge j$，面积变大

+ 如果当前$i \ge j$，我们移动$i$,移动后的$i'$也有3种情况：

1. $i' > i$，面积不变
2. $j \le i' \le i$，面积不变
3. $i' < j $， 面积变小

综上，我们发现了，当我们改变了容器两端较短一边的时候，才有可能使得面积变大，当我们改变了容易两端较长的一端时，面积不变或者变小。

因此为了求的容器的最大值，我们只改变容器两端较小的一端：

```python
if h[i]<h[j]:
    res=max(res,h[i]*(j-i))
    i+=1
else:
    res=max(res,h[j]*(j-i))
    j-=1
```

## 完整的代码如下：

```python
class Solution:
    def maxArea(self, height: List[int]) -> int:
        n=len(height)
        i,j=0,n-1
        res=0
        while i<j:
            if height[i]<height[j]:
                res=max(res,height[i]*(j-i))
                i+=1
            else:
                res=max(res,height[j]*(j-i))
                j-=1
        return res
```
